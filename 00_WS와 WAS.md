# 00_WS와 WAS

웹 서버(Web Server; WS)와 웹 어플리케이션 서버(Web Application Server; WAS)에 대한 이해

<br>

## 1. Web Server(웹 서버)

> 정적 컨텐츠를 제공하는 서버

HTTP 프로토콜을 기반으로 클라이언트가 웹 브라우저에 요청을 했을 때, 요청에 따른 `정적 컨텐츠를 제공하는 서버`이다.

![image](https://github.com/siwon-park/Problem_Solving/assets/93081720/fc256e9a-0333-48c3-962e-3e9a90517cb5)

### 정적 컨텐츠(Static Contents)

단순한 HTML 문서, CSS, 이미지, 파일 등 이미 내용이 작성 및 저장되어 있어 즉시 응답 가능한 컨텐츠

요청에 따라 항상 동일한 결과물을 반환한다는 특징이 있음

<br>

### WS의 역할

웹 서버는 `정적 컨텐츠를 전달하는 역할`을 한다.

그러나 정적 컨텐츠만 전달하는 것은 아니며, 동적 컨텐츠 요청을 받으면 WAS에 해당 요청을 넘겨주고 `WAS에서 처리한 결과를 클라이언트에 전달해주는 역할`도 한다.

<br>

### 종류

가장 유명하고 큰 규모의 웹 서버는 `Nginx`와 `Apache`가 있다.

<br>

## 2. Web Application Server(웹 어플리케이션 서버)

> 동적 컨텐츠를 제공하는 서버

DB 조회나 다양한 비즈니스 로직을 요구하는 `동적 컨텐츠를 제공`하기 위해 만들어진 어플리케이션 서버이다.

HTTP 프로토콜을 기반으로 동작하고, 웹 어플리케이션을 실행시켜서 필요한 기능을 수행하고 그 결과를 웹 서버에 전달하는 `미들웨어`로서의 역할을 하며, 주로 DB와 함께 수행된다.

`웹 서버 + 웹 컨테이너`를 합친 형태이다.

![image](https://github.com/siwon-park/Problem_Solving/assets/93081720/005f1ebe-83cb-4c04-8a78-e445dfa88bd4)

### 동적 컨텐츠(Dynamic Contents)

요청 받은 인자에 따라 동적으로 바뀌는 컨텐츠로, DB에 존재하는 데이터나 웹 어플리케이션 서버에서 실행되는 프로그램을 통해 만들어진 결과물

<br>

### 도입 목적

웹 서버의 한계를 극복하고자 도입되었다.

웹 서버로는 html, css 등 정적인 자료만 제공할 수 있는데, 만약 구구단에 대한 결과를 전달하고자 한다면 모든 구구단에 대한 결과를 미리 다 작성해 놓아야만 한다. 중요한 것은 이것이 10단이면 상관 없겠지만, 굉장히 큰 수라면 내용을 다 작성하는 것은 불가능에 가까울 것이다.

더불어 html과 css는 프로그래밍 언어가 아니라 마크업 언어이기 때문에 이러한 문제를 해결할 수 없다.

결국 요청에 따른 비즈니스 로직 처리나 DB 연동 문제를 해결하기 위해 등장한 개념이 WAS이다.

웹에서 실행되는 응용 프로그램을 통해 html의 한계를 극복할 수 있게 되었다.

<br>

### 종류

대표적인 WAS로는 `톰캣(Tomcat)`이 있다.

<br>

## 3. WS와 WAS를 분리하고 함께 두는 이유?

사실 WAS만으로도 모든 기능을 제공할 수 있다.

- 웹 서버와 웹 컨테이너가 합쳐진 형태이기 때문에 웹 서버가 할 수 있는 역할을 수행할 수 있다.

그러나 WS와 WAS를 기능적으로 분리하고 함께 두는 이유는 다음과 같다.

![image](https://github.com/siwon-park/Problem_Solving/assets/93081720/2a084241-554e-4f7b-ad38-c293c932fedd)

### 1. 서버 부하 방지

WAS는 DB 조회 및 다양한 로직을 처리하는 데에만 집중하고, WS는 정적 컨텐츠 제공에만 집중한다. 이를 통해 서버 부하를 방지할 수 있다.

만약 WAS가 정적 컨텐츠 요청까지 처리하게 되면, 부하가 커지고 동적 컨텐츠 처리가 지연되어 수행 속도가 느려져 효율성이 떨어지게 된다. (물론, 성능이 좋아져서 이제는 해당 문제가 발생하지 않는다.)

<br>

### 2. 보안 강화

물리적인 분리를 통해 보안을 강화할 수 있다.

웹 서버를 SSL에 대한 암호화, 복호화 처리에 사용할 수 있다.

웹 서버를 WAS 앞 단에 두어, 공격이 있을 때 중요한 정보가 담긴 DB나 로직에까지 접근하지 못하도록 할 수 있다.

<br>

### 3. 로드 밸런싱

WS를 앞 단에 두고, 뒷 단에 여러 대의 WAS를 배치함으로써 무중단 운영 및 배포와 장애 극복에 쉽게 대응할 수 있다. 하나의 WAS에 장애가 발생하더라도 다른 WAS가 작동하여 WS의 동적인 컨텐츠 요청에 응답할 수 있다.

또한 다른 종류의 프레임워크를 가진 WAS를 운영할 수 있다.