# 01_네트워크 계층

## 1. OSI 7계층

다른 시스템 간 원활한 통신을 위해 ISO(국제표준화기구)에서 제안한 통신 규약

### 1) 왜 나눈 것일까?

통신이 일어나는 과정을 단계별로 알 수 있고, 특정한 곳에 이상이 생기면 그 단계만 수정할 수 있기 때문

즉, **네트워크에 문제가 생겼을 때 트러블 슈팅을 용이하게 위함**이 그 목적이다.

#### (1) 예시

PC방에서 게임을 하는데 연결이 끊겼음

- 만약 모든 PC에 문제가 있다면 라우터의 문제(3계층 네트워크 계층)이거나 ISP의 회선 문제(1계층 물리 계층)
- 만약 한 PC에만 문제가 있다면
  - 게임 클라이언트에 문제가 있다면 (7계층 어플리케이션 계층)
  - 게임 클라이언트에 문제가 없고, 스위치에 문제가 있다면 (2계층 데이터링크 계층)

<br>

### 2) OSI 7계층

※ 쉽게 외우는 법: `아파서 티내다 피(물)` 봤다.

![image](https://github.com/siwon-park/cs-study-for-interview/assets/93081720/a18d93bc-59ae-47d7-b59b-140d1009948c)

각 계층은 독립적이기 때문에 데이터가 전달되는 동안에는 다른 계층의 영향을 받지 않는다.

<br>

####  (1) 물리(Physical) 계층 - 1계층

> 데이터를 전기적인 신호로 변환해서 주고받는 역할을 수행

단지 데이터를 전달/받기만 하기 때문에 데이터가 무엇인지, 에러가 있는지 등은 전혀 신경쓰지 않는다.

- 관련 장비
  - 리피터: 신호 증폭
  - 케이블, 허브: 디바이스 연결
- 주요 프로토콜
  - 이더넷
  - USB
  - IEEE
- 통신 단위
  - 비트

<br>

#### (2) 데이터 링크(DataLink) 계층 - 2계층

> 물리 계층에서 받은 데이터를 안전하게 오류를 수정하여 (재)전송하는 역할을 수행

MAC 주소를 통해 통신한다. 프레임에 MAC 주소를 부여하고 에러검출, 재전송, 흐름제어를 진행한다.

- 관련 장비
  - 스위치(L2)
  - 브릿지
- 주요 프로토콜
  - MAC
- 통신 단위
  - 프레임

<br>

#### (3) 네트워크(Network) 계층

> 데이터를 목적지까지 가장 안전하고 빠르게 전달하는 기능을 담당(라우팅)

경로를 선택하고 주소를 정하고 경로에 따라 패킷을 전달해주는 역할을 수행한다.

라우터를 통해 이동할 경로를 선택하여 IP 주소를 지정하고, 해당 경로에 따라 패킷을 전달해준다.

라우팅, 흐름 제어, 오류 제어, 세그먼테이션 등을 수행한다.

- 관련 장비
  - 스위치(L3)
  - 라우터
- 주요 프로토콜
  - IP, ARP, RARP, ICMP
- 통신 단위
  - 패킷

<br>

#### (4) 전송(Transport) 계층

> TCP와 UDP 프로토콜을 통해 통신을 활성화

포트(port)를 열어두고, 프로그램들이 포트를 통해 데이터를 전송 할 수 있는 환경을 제공해준다.

패킷들의 전송이 유효한지 확인하고 전송 실패한 패킷들을 다시 전송한다.

오류 검출 및 복구, 흐름제어, 중복 검사 등을 수행함.

- 관련 장비
  - 스위치(L4)
  - 게이트웨이
- 주요 프로토콜
  - TCP, UDP
- 통신 단위
  - 세그먼트

<br>

####  (5) 세션(Session) 계층

> 데이터가 통신하기 위한 논리적인 연결을 담당.

TCP/IP 세션을 만들고 없애는 책임을 지니고 있다.

세션 설정, 유지, 종료, 전송 중단시 복구 등의 기능을 제공한다.

- 관련 장비
  - 
- 주요 프로토콜
  - API, Socket
- 통신 단위
  - 메시지

<br>

####  (6) 표현(Presentation) 계층

> 데이터 표현에 대한 독립성을 제공하고 암호화하는 역할을 담당

코드 간의 번역을 담당하여 어플리케이션 계층이 사용자 시스템에서 데이터의 형식상 차이를 다뤄야 하는 부담을 대신 수행해주는 역할을 한다.

파일 인코딩, 명령어를 포장, 압축, 암호화한다.

- 관련 장비
  - 
- 주요 프로토콜
  - SSL, TLS
  - PNG, JPG, GIF, MPEG
- 통신 단위
  - 메시지

<br>

####  (7) 어플리케이션(응용, Application) 계층

> 응용 프로세스와 직접 소통하여 일반적인 응용 서비스를 수행

데이터 전송의 최종 목적지 계층으로 사용자 인터페이스, 전자우편, 데이터베이스 관리 등의 서비스를 제공한다.

- 관련 장비
  - 스위치(L7)
- 주요 프로토콜
  - HTTP, STMP, IMAP, POP3, DNS, Telnet
- 통신 단위
  - 메시지

